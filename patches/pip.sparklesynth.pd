#N canvas 960 312 958 234 10;
#X declare -path .;
#X declare -path lib;
#X declare -path lua;
#X declare -path ../data;
#X declare -path ../sounds;
#X obj -22 -242 notein;
#X obj -22 -201 poly 4 1;
#X obj -22 -221 pack 0 0;
#X obj -31 80 outlet~;
#X obj -22 -179 pack 0 0 0;
#X floatatom 46 -109 5 0 0 0 - - -;
#X floatatom 9 -109 5 0 0 0 - - -;
#X obj 239 -64 soundfiler;
#X obj 9 -131 unpack 0 0 0 0;
#X floatatom 85 -109 5 0 0 0 - - -;
#X floatatom 120 -109 5 0 0 0 - - -;
#X text 53 -179 arg: base hz \, c2 range;
#X obj 313 -116 table sparklebuf;
#X obj 240 -105 loadbang;
#X obj -22 -159 piphz 261.63 220;
#X obj 46 -90 s sparklehz;
#X obj 315 -213 declare -path .;
#X obj 314 -193 declare -path lib;
#X obj 314 -174 declare -path lua;
#X obj 314 -156 declare -path ../data;
#X obj 314 -136 declare -path ../sounds;
#X obj -59 -132 s \$0-notes;
#X obj -31 -42 r \$0-notes;
#N canvas 960 401 958 146 adsr 0;
#X obj 213 73 route 1 2 3 4;
#X obj -47 167 line~;
#X obj 160 169 line~;
#X obj 343 174 line~;
#X obj 500 176 line~;
#X obj -48 143 pack 0 1000;
#X obj 160 147 pack 0 1000;
#X obj 343 150 pack 0 1000;
#X obj 500 153 pack 0 1000;
#X obj -52 71 route 1 2 3 4;
#X obj 391 94 * 10000;
#X obj 28 143 pack 0 0;
#X obj 234 146 pack 0 0;
#X obj 416 151 pack 0 0;
#X obj 574 154 pack 0 0;
#X obj 480 89 * 10000;
#X obj -53 43 inlet;
#X obj 213 46 inlet;
#X obj -46 190 s~ \$0-amp1;
#X obj 160 192 s~ \$0-amp2;
#X obj 343 197 s~ \$0-amp3;
#X obj 503 199 s~ \$0-amp4;
#X obj 480 14 r \$0-attack;
#X obj 391 75 / 9;
#X obj 388 22 r \$0-decay;
#X obj 480 70 / 9;
#X connect 0 0 5 0;
#X connect 0 1 6 0;
#X connect 0 2 7 0;
#X connect 0 3 8 0;
#X connect 1 0 18 0;
#X connect 2 0 19 0;
#X connect 3 0 20 0;
#X connect 4 0 21 0;
#X connect 5 0 1 0;
#X connect 6 0 2 0;
#X connect 7 0 3 0;
#X connect 8 0 4 0;
#X connect 9 0 11 0;
#X connect 9 1 12 0;
#X connect 9 2 13 0;
#X connect 9 3 14 0;
#X connect 10 0 8 1;
#X connect 10 0 7 1;
#X connect 10 0 6 1;
#X connect 10 0 5 1;
#X connect 11 0 1 0;
#X connect 12 0 2 0;
#X connect 13 0 3 0;
#X connect 14 0 4 0;
#X connect 15 0 14 1;
#X connect 15 0 13 1;
#X connect 15 0 12 1;
#X connect 15 0 11 1;
#X connect 16 0 9 0;
#X connect 17 0 0 0;
#X connect 22 0 25 0;
#X connect 23 0 10 0;
#X connect 24 0 23 0;
#X connect 25 0 15 0;
#X restore 108 -132 pd adsr;
#N canvas 960 47 958 234 polyrhodes 1;
#X obj 125 18 inlet;
#X obj 124 233 outlet~;
#X obj 125 37 route 1 2 3 4;
#X obj 446 152 *~;
#X obj 614 144 *~;
#X obj 286 153 *~;
#X obj 125 159 *~;
#X obj 146 135 r~ \$0-amp1;
#X obj 300 132 r~ \$0-amp2;
#X obj 461 129 r~ \$0-amp3;
#X obj 630 122 r~ \$0-amp4;
#X obj 125 105 hcj.lib.drone~ sparklebuf;
#X obj 477 50 s drone-drift-width;
#X obj 286 107 hcj.lib.drone~ sparklebuf;
#X obj 447 106 hcj.lib.drone~ sparklebuf;
#X obj 614 102 hcj.lib.drone~ sparklebuf;
#X msg 477 28 0.002;
#X obj 477 7 loadbang;
#X connect 0 0 2 0;
#X connect 2 0 11 0;
#X connect 2 1 13 0;
#X connect 2 2 14 0;
#X connect 2 3 15 0;
#X connect 3 0 1 0;
#X connect 4 0 1 0;
#X connect 5 0 1 0;
#X connect 6 0 1 0;
#X connect 7 0 6 1;
#X connect 8 0 5 1;
#X connect 9 0 3 1;
#X connect 10 0 4 1;
#X connect 11 0 6 0;
#X connect 13 0 5 0;
#X connect 14 0 3 0;
#X connect 15 0 4 0;
#X connect 16 0 12 0;
#X connect 17 0 16 0;
#X restore -31 -22 pd polyrhodes \$0;
#X obj 294 8 r synth;
#X obj -17 36 line~;
#X obj -31 58 *~;
#X obj 294 81 s \$0-volume;
#X obj -17 -1 r \$0-volume;
#X obj 372 83 s \$0-attack;
#X obj 451 82 s \$0-decay;
#X obj 294 60 / 9;
#X obj -17 17 pack 0 1200;
#X obj 524 102 s \$0-crossfade;
#X obj 524 82 / 9;
#X obj 554 82 s \$0-monophony;
#X obj 584 60 s \$0-freq;
#X obj -52 -89 s \$0-sinenotes;
#X msg 239 -85 read -resize 220rhodes-shortrev2.wav sparklebuf;
#X obj 89 -228 r \$0-freq;
#X obj 231 -168 print sfreq;
#X floatatom 189 -215 5 0 0 0 - - -;
#X obj 294 28 route volume attack decay crossfade monophonic polyphonic
freq note;
#N canvas 960 47 958 181 makenote 0;
#X obj 476 70 inlet;
#X obj 489 131 outlet;
#X restore 669 73 pd makenote;
#X obj 669 94 s \$0-notes;
#X text 743 74 !TODO implement;
#X connect 0 0 2 0;
#X connect 0 1 2 1;
#X connect 1 0 4 0;
#X connect 1 1 4 1;
#X connect 1 2 4 2;
#X connect 2 0 1 0;
#X connect 4 0 14 0;
#X connect 5 0 15 0;
#X connect 8 0 6 0;
#X connect 8 1 5 0;
#X connect 8 2 9 0;
#X connect 8 3 10 0;
#X connect 13 0 39 0;
#X connect 14 0 21 0;
#X connect 14 1 8 0;
#X connect 14 1 38 0;
#X connect 14 2 23 0;
#X connect 14 3 23 1;
#X connect 22 0 24 0;
#X connect 24 0 27 0;
#X connect 25 0 43 0;
#X connect 26 0 27 1;
#X connect 27 0 3 0;
#X connect 29 0 33 0;
#X connect 32 0 28 0;
#X connect 33 0 26 0;
#X connect 35 0 34 0;
#X connect 39 0 7 0;
#X connect 40 0 41 0;
#X connect 40 0 42 0;
#X connect 42 0 14 1;
#X connect 43 0 32 0;
#X connect 43 1 30 0;
#X connect 43 2 31 0;
#X connect 43 3 35 0;
#X connect 43 4 36 0;
#X connect 43 5 36 0;
#X connect 43 6 37 0;
#X connect 43 7 44 0;
#X connect 44 0 45 0;
